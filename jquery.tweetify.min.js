(function(c){c.fn.extend({tweetify:function(i){var g={baseurl:"http://twitter.com/share",buttonClass:"twitter-share-button",scriptTag:'<script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script>',attrs:["url","via","text","related","count","lang","counturl","extension"]};i=c.extend({},c.fn.tweetify.defaults,i);var k=false;this.each(function(){var e=c(this),l=i,m=l.queries,d={};c.each(g.attrs,function(b,a){d[a]=typeof e.data(a)!=="undefined"?e.data(a):typeof m[a]!=="undefined"?
m[a]:""});var f=false;if(d.url==""){f=window.location.href;f=encodeURIComponent(f);d.url=f;f=true}if(d.extension){if(!f)d.url=encodeURIComponent(d.url);d.url+=encodeURIComponent(d.extension)}if(l.customButton){var h="";c.each(d,function(b,a){if(a&&b!="extension")h+="&"+b+"="+a});h=h.replace(/^&/,"?");e.attr("href",g.baseurl+h).bind("click",function(b){var a=c(window).height()/2-225,j=c(window).width()/2-275;b.preventDefault();window.open(this.href,"_blank","height=450,width=550,top="+a+",left="+j)})}else{c.each(d,
function(b,a){if(b=="url"&&typeof e.data(b)==="undefined"){var j=decodeURIComponent(a);e.attr("data-"+b,j)}else a&&b!="extension"&&typeof e.data(b)==="undefined"&&e.attr("data-"+b,a)});e.addClass(g.buttonClass);k=true}});k&&c("body").append(g.scriptTag);return this}});c.fn.tweetify.defaults={queries:{url:"",via:"",text:"",related:"",count:"none",lang:"",counturl:""},customButton:false}})(jQuery);
