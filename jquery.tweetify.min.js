(function(b){b.fn.extend({tweetify:function(f){f=b.extend({},{url:"http://twitter.com/share",buttonClass:"twitter-share-button"},b.fn.tweetify.defaults,f);var i=window.location.protocol+"//"+window.location.host+window.location.pathname;this.each(function(){var a=f,c=b(this);if(a.queries.url==""||typeof a.queries.url!=="string")a.queries.url=i;if(a.queries.text==""&&typeof c.data("text")!=="undefined")a.queries.text=c.data("text");else if(typeof c.data("text")==="undefined")a.queries.text="";if(typeof a.urlExtend!==
"undefined"){var h=a.urlExtend;if(typeof h!=="string")h=a.urlExtend.toString();a.queries.url+=encodeURIComponent(h)}if(a.customButton){var g="";b.each(a.queries,function(d,e){if(e!="")g+="&"+d+"="+encodeURIComponent(e)});g=g.replace(/^&/,"?");c.attr("href",a.url+g).bind("click",function(d){d.preventDefault();window.open(this.href,"_blank","height=450,width=550")})}else{b.each(a.queries,function(d,e){e!=""&&typeof c.data(d)==="undefined"&&c.attr("data-"+d,e)});c.attr("href",a.url).addClass(a.buttonClass)}});
f.customButton||b("body").append('<script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script>');return this}});b.fn.tweetify.defaults={queries:{url:"",count:"none",via:"jannisg",related:"jannisg",text:""},customButton:false}})(jQuery);
